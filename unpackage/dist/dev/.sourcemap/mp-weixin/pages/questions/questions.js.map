{"version":3,"sources":["webpack:///F:/graduation_design/pyschological_test_xcx/pages/questions/questions.vue","webpack:///F:/graduation_design/pyschological_test_xcx/pages/questions/questions.vue?938b","webpack:///F:/graduation_design/pyschological_test_xcx/pages/questions/questions.vue?16c6","webpack:///F:/graduation_design/pyschological_test_xcx/pages/questions/questions.vue?63a5","webpack:///F:/graduation_design/pyschological_test_xcx/pages/questions/questions.vue?8fc2","webpack:///F:/graduation_design/pyschological_test_xcx/pages/questions/questions.vue?8d5b","webpack:///F:/graduation_design/pyschological_test_xcx/pages/questions/questions.vue?408e"],"names":["data","version","selectIndex","tests","answers","len","methods","getTests","api","getQuestions","size","res","forEach","element","index","anwsers","JSON","parse","$utils","shuffle","uni","hideLoading","getLargeArr","arr","length","concat","splice","selectItemAnswer","item","type","every","console","log","param","groupByAttr","$dicts","getDictArr","d","name","content","value","push","setStorage","key","stringify","success","showToast","icon","title","fail","reLaunch","url","onLoad","option","setNavigationBarTitle","showLoading","i"],"mappings":"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","file":"pages/questions/questions.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from \"@/API/api.js\"\nexport default {\n\tdata () {\n\t\treturn{\n\t\t\tversion: '1',\n\t\t\tselectIndex: 0, // 当前第几个问题\n\t\t\ttests: [], // 问卷数据\n\t\t\tanswers: [], // 用户的回答\n\t\t\tlen: 0 // 总共多少个问题\n\t\t}\n\t},\n\tmethods: {\n\t\t// 获得问卷数据\n\t\tgetTests (len) {\n\t\t\tapi.getQuestions({ size: len }, res => {\n\t\t\t\tlet data = res.data || []\n\t\t\t\tdata.forEach((element, index) => {\n\t\t\t\t\telement.anwsers = JSON.parse(element.anwsers)\n\t\t\t\t})\n\t\t\t\tdata.forEach(element => {\n\t\t\t\t\telement.anwsers = this.$utils.shuffle(element.anwsers)\n\t\t\t\t})\n\t\t\t\tthis.tests = this.$utils.shuffle(data)\n\t\t\t\tuni.hideLoading()\n\t\t\t})\n\t\t\t// 没连接口时,前端测试用\n\t\t\t// setTimeout(() => {\n\t\t\t// \tlet param = JSON.parse(JSON.stringify(this.$dicts.getDictArr('testData')))\n\t\t\t// \tparam = this.getLargeArr(param, this.len) // 模拟问卷数据\n\t\t\t// \tparam.forEach(element => {\n\t\t\t// \t\telement.anwsers = this.$utils.shuffle(element.anwsers)\n\t\t\t// \t})\n\t\t\t// \tthis.tests = param\n\t\t\t// \tuni.hideLoading()\n\t\t\t// }, 600)\n\t\t},\n\t\t// 获取指定长度的数据(用于没连接口前模拟问卷题目数据)\n\t\tgetLargeArr (arr, len) {\n\t\t\tif (!arr.length) { return arr } // 列表为空, 不必执行\n\t\t\tarr = this.$utils.shuffle(arr) // 打乱顺序\n\t\t\tif (arr.length < len) { // 数据不够, 将给定的arr列表concat它自己\n\t\t\t\tarr = this.$utils.shuffle(arr.concat(arr)) // 打乱顺序\n\t\t\t\treturn this.getLargeArr(arr, len)\n\t\t\t}\n\t\t\treturn arr.splice(0, len) // 截取需要的长度的列表\n\t\t},\n\t\t// 选择答案\n\t\tselectItemAnswer (item) {\n\t\t\tthis.answers[this.selectIndex] = item.type\n\t\t\tif (this.answers.every(element => { return element !== null})) { // 所有题目都做完了\n\t\t\t\tconsole.log(this.answers)\n\t\t\t\tlet param = []\n\t\t\t\tlet data = this.$utils.groupByAttr(this.answers, (element) => { // 将测试结果分组\n\t\t\t\t\treturn element\n\t\t\t\t}, true)\n\t\t\t\tthis.$dicts.getDictArr('answerTypes').forEach(element => {\n\t\t\t\t\tlet d = {}\n\t\t\t\t\td.name = element.content\n\t\t\t\t\td.data = data[element.value] ? data[element.value].length : 0\n\t\t\t\t\tparam.push(d) // 组合结果数据, 用于饼状图\n\t\t\t\t})\n\t\t\t\tconsole.log('结果数据----------', param)\n\t\t\t\tuni.setStorage({\n\t\t\t\t\tkey: 'res',\n\t\t\t\t\tdata: JSON.stringify(param),\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'loading',\n\t\t\t\t\t\t\ttitle: '正在提交, 请稍候'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: '设置缓存失败, 请先检查数据'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl: '../result/result'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.selectIndex ++\n\t\t}\n\t},\n\tonLoad(option) {\n\t\tif (option && option.version === '2') {\n\t\t\tuni.setNavigationBarTitle({ // 修改顶部导航名称\n\t\t\t\ttitle: 'DISC完整版'\n\t\t\t})\n\t\t}\n\t\tuni.showLoading({\n\t\t\ttitle: '加载中'\n\t\t})\n\t\tthis.version = option && option.version\n\t\tthis.len = this.version === '2' ? 20 : 10\n\t\tfor (let i = 0; i< this.len; i++) {\n\t\t\tthis.answers[i] = null\n\t\t}\n\t\tthis.getTests(this.len)\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./questions.vue?vue&type=template&id=6384f184&\"\nimport script from \"./questions.vue?vue&type=script&lang=js&\"\nexport * from \"./questions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./questions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6384f184', component.options)\n    } else {\n      api.reload('6384f184', component.options)\n    }\n    module.hot.accept(\"./questions.vue?vue&type=template&id=6384f184&\", function () {\n      api.rerender('6384f184', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/graduation_design/pyschological_test_xcx/pages/questions/questions.vue\"\nexport default component.exports","import mod from \"-!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./questions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./questions.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./questions.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./questions.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./questions.vue?vue&type=template&id=6384f184&\""],"sourceRoot":""}